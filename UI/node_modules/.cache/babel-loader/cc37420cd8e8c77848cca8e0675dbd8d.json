{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/vikramsah/Documents/BCC Data Entry Portal/UI/src/pages/createAdmin.jsx\";\nimport React, { Component } from \"react\";\nimport \"../style.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport filterFactory, { textFilter } from \"react-bootstrap-table2-filter\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.css\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport axios from \"axios\";\nimport Select from \"react-select\"; // import configData from \"../Components/config.json\";\n\nexport class AdminPane extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeAction = e => {\n      console.log(e.value);\n\n      if (e.value === 1) {\n        this.setState({\n          showUserAdmin: \"\",\n          showViewUsers: \"hide_data\",\n          actionSelect: e.value\n        });\n      } else {\n        this.setState({\n          showUserAdmin: \"hide_data\",\n          showViewUsers: \"\",\n          actionSelect: e.value\n        });\n      }\n    };\n\n    this.onChangeRoleType = e => {\n      console.log(e.value);\n      this.setState({\n        roleSelect: e.value\n      });\n      axios.post(configData.SERVER_URL + \"/api/userlist\", {\n        role: e.value\n      }).then(response => {\n        this.setState({\n          filesData: response.data\n        });\n        console.log(response.data);\n      });\n    };\n\n    this.onchangeUserEmail = e => {\n      console.log(e.target.value);\n      this.setState({\n        userEmail: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      if (this.userEmail !== \"\" && this.roleSelect !== \"\") {\n        var req = {\n          role: this.state.roleSelect,\n          user: this.state.userEmail\n        };\n        console.log(req);\n        axios.post(configData.SERVER_URL + \"/api/updateRole\", req).then(res => {\n          console.log(res);\n          toast.success(\"Role updated successfully\");\n        }).catch(err => {\n          console.log(err);\n          toast.error(\"Error in updating Role\");\n        });\n        setTimeout(() => window.location.reload(), 2000);\n      }\n    };\n\n    this.state = {\n      roleSelect: \"\",\n      userEmail: \"\",\n      showUserAdmin: \"hide_data\",\n      showViewUsers: \"hide_data\",\n      actionSelect: \"\",\n      filesData: []\n    };\n  }\n\n  render() {\n    const actionSelect = [{\n      label: \"User Administration\",\n      value: 1\n    }, {\n      label: \"View Users\",\n      value: 2\n    }];\n    const roleSelect = [{\n      label: \"Requestor\",\n      value: 1\n    }, {\n      label: \"Admin\",\n      value: 2\n    }, {\n      label: \"Admin & Approver\",\n      value: 3\n    }, {\n      label: \"Approver\",\n      value: 4\n    }];\n    const elevatedRoles = [{\n      label: \"Admin\",\n      value: 2\n    }, {\n      label: \"Admin & Approver\",\n      value: 3\n    }, {\n      label: \"Approver\",\n      value: 4\n    }];\n    const columns = [{\n      dataField: \"user_email\",\n      text: \"User Email \",\n      filter: textFilter({\n        className: \"filter_style\",\n        style: {\n          fontSize: '0.75rem'\n        }\n      })\n    }];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"select-action\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"fresh-label\",\n          for: \"fresh-request_zone\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fresh-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reminder\",\n              children: \"* \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 25\n            }, this), \" Select Action\\xA0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          options: actionSelect,\n          onChange: this.onChangeAction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.showUserAdmin,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fresh-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"User Administration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"reminder\",\n            children: \"* Mandatory fields\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fresh-field-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"fresh-label\",\n              for: \"fresh-request_zone\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fresh-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"reminder\",\n                  children: \"* \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 33\n                }, this), \" Select Role\\xA0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: roleSelect,\n              onChange: this.onChangeRoleType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fresh-field-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"fresh-label\",\n              for: \"fresh-additional_notification_to\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fresh-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"reminder\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 33\n                }, this), \"Enter User Email\\xA0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"fresh-input css-yk16xz-control\",\n              onChange: this.onchangeUserEmail,\n              type: \"text\",\n              value: this.state.userEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fresh-field-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"fresh-button cust_btn-cls\",\n              onClick: this.onSubmit,\n              children: \"Submit\\xA0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.showViewUsers,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fresh-field-wrapper_select_role\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"View Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"reminder\",\n            children: \"* Mandatory fields\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fresh-field-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"fresh-label\",\n              for: \"fresh-request_zone\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"fresh-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"reminder\",\n                  children: \"* \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 33\n                }, this), \" Select Role\\xA0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: elevatedRoles,\n              onChange: this.onChangeRoleType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: this.state.roleSelect ? \"\" : \"hide_data\",\n              children: /*#__PURE__*/_jsxDEV(BootstrapTable, {\n                bootstrap4: true,\n                keyField: \"user_email\",\n                data: this.state.filesData,\n                columns: columns,\n                filter: filterFactory(),\n                pagination: paginationFactory(),\n                headerClasses: \"cust_header-class\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n        autoClose: 3000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this);\n  }\n\n}\nexport default AdminPane;","map":{"version":3,"sources":["/Users/vikramsah/Documents/BCC Data Entry Portal/UI/src/pages/createAdmin.jsx"],"names":["React","Component","ToastContainer","toast","BootstrapTable","filterFactory","textFilter","paginationFactory","axios","Select","AdminPane","constructor","props","onChangeAction","e","console","log","value","setState","showUserAdmin","showViewUsers","actionSelect","onChangeRoleType","roleSelect","post","configData","SERVER_URL","role","then","response","filesData","data","onchangeUserEmail","target","userEmail","onSubmit","req","state","user","res","success","catch","err","error","setTimeout","window","location","reload","render","label","elevatedRoles","columns","dataField","text","filter","className","style","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../style.css\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport filterFactory, {\r\n    textFilter,\r\n  } from \"react-bootstrap-table2-filter\";\r\n  import \"react-bootstrap-table-next/dist/react-bootstrap-table2.css\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport axios from \"axios\";\r\nimport Select from \"react-select\";\r\n// import configData from \"../Components/config.json\";\r\n\r\nexport class AdminPane extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            roleSelect:\"\",\r\n            userEmail:\"\",\r\n            showUserAdmin:\"hide_data\",\r\n            showViewUsers:\"hide_data\",\r\n            actionSelect:\"\",\r\n            filesData:[],\r\n        };\r\n    }\r\n\r\n    onChangeAction=(e) =>{ \r\n        console.log(e.value);\r\n        if(e.value ===1){\r\n            this.setState({\r\n                showUserAdmin:\"\",\r\n                showViewUsers:\"hide_data\",\r\n                actionSelect:e.value,\r\n            });\r\n        }else{\r\n            this.setState({\r\n                showUserAdmin:\"hide_data\",\r\n                showViewUsers:\"\",\r\n                actionSelect:e.value,\r\n            });\r\n        }\r\n    };\r\n\r\n    onChangeRoleType=(e) =>{ \r\n        console.log(e.value);\r\n        this.setState({\r\n            roleSelect:e.value,\r\n        });\r\n        axios.post(configData.SERVER_URL + \"/api/userlist\",{role:(e.value)})\r\n            .then((response) => {\r\n            this.setState({\r\n              filesData: response.data,\r\n            });\r\n            console.log(response.data)\r\n        });\r\n    }\r\n\r\n    onchangeUserEmail=(e) =>{ \r\n        console.log(e.target.value);\r\n        this.setState({\r\n            userEmail:e.target.value,\r\n        });\r\n    };\r\n    \r\n    onSubmit=(e)=>{\r\n        if (this.userEmail!==\"\" && this.roleSelect!==\"\"){\r\n            var req= {role: this.state.roleSelect, user : this.state.userEmail};\r\n            console.log(req);\r\n            axios\r\n                .post(configData.SERVER_URL +\"/api/updateRole\", req)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    toast.success(\"Role updated successfully\");\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    toast.error(\"Error in updating Role\");\r\n                });\r\n                \r\n                setTimeout(()=>window.location.reload(),2000);\r\n        }        \r\n    }\r\n\r\n    render(){\r\n        const actionSelect = [\r\n            { label: \"User Administration\", value: 1 },\r\n            { label: \"View Users\", value: 2 },\r\n          ];\r\n        const roleSelect = [\r\n            { label: \"Requestor\", value: 1 },\r\n            { label: \"Admin\", value: 2 },\r\n            { label: \"Admin & Approver\", value: 3 },\r\n            { label: \"Approver\", value: 4 },\r\n          ];\r\n        const elevatedRoles = [\r\n\r\n            { label: \"Admin\", value: 2 },\r\n            { label: \"Admin & Approver\", value: 3 },\r\n            { label: \"Approver\", value: 4 },\r\n        ];\r\n        const columns = [\r\n            {\r\n                dataField: \"user_email\",\r\n                text: \"User Email \",\r\n                filter: textFilter({className:\"filter_style\", style:{fontSize:'0.75rem'}}),\r\n            },\r\n        ]\r\n\r\n    return (\r\n        <div className=\"admin-panel\">\r\n            <div className=\"select-action\">\r\n                <label className=\"fresh-label\" for=\"fresh-request_zone\">\r\n                    <span className=\"fresh-title\">\r\n                        <span className=\"reminder\">* </span> Select Action&nbsp;\r\n                    </span>\r\n                </label>\r\n                <Select options={actionSelect} onChange={this.onChangeAction}/>\r\n            </div>\r\n\r\n            <div className = {this.state.showUserAdmin}>\r\n                \r\n                <div className=\"fresh-form\">\r\n                    <h4>User Administration</h4>\r\n                    <h6 className=\"reminder\">* Mandatory fields</h6>\r\n                    <div className=\"fresh-field-wrapper\">\r\n                        <label className=\"fresh-label\" for=\"fresh-request_zone\">\r\n                            <span className=\"fresh-title\">\r\n                                <span className=\"reminder\">* </span> Select Role&nbsp;\r\n                            </span>\r\n                        </label>\r\n                        <Select options={roleSelect} onChange={this.onChangeRoleType}/>\r\n                    </div>\r\n\r\n                    <div className=\"fresh-field-wrapper\">\r\n                        <label className=\"fresh-label\" for=\"fresh-additional_notification_to\">\r\n                            <span className=\"fresh-title\">\r\n                                <span className=\"reminder\">*</span>Enter User Email&nbsp;\r\n                            </span>\r\n                        </label>\r\n\r\n                        <input\r\n                        className=\"fresh-input css-yk16xz-control\"\r\n                        onChange ={this.onchangeUserEmail}\r\n                        type=\"text\"\r\n                        value={this.state.userEmail}\r\n                        ></input>\r\n                    </div>\r\n\r\n                    <div className=\"fresh-field-wrapper\">\r\n                        <button\r\n                        className=\"fresh-button cust_btn-cls\"\r\n                        onClick={this.onSubmit}\r\n                        >\r\n                        Submit&nbsp;\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={this.state.showViewUsers}>\r\n                \r\n                <div className=\"fresh-field-wrapper_select_role\">\r\n                    <h4>View Users</h4>\r\n                    <h6 className=\"reminder\">* Mandatory fields</h6>\r\n                    <div className=\"fresh-field-wrapper\">\r\n                        <label className=\"fresh-label\" for=\"fresh-request_zone\">\r\n                            <span className=\"fresh-title\">\r\n                                <span className=\"reminder\">* </span> Select Role&nbsp;\r\n                            </span>\r\n                        </label>\r\n                        <Select options={elevatedRoles} onChange={this.onChangeRoleType}/>\r\n                        <div className = {this.state.roleSelect?\"\":\"hide_data\"}>\r\n                            <BootstrapTable\r\n                            bootstrap4\r\n                            keyField=\"user_email\"\r\n                            data={this.state.filesData}\r\n                            columns={columns}\r\n                            filter={filterFactory()}\r\n                            pagination={ paginationFactory() }\r\n                            headerClasses=\"cust_header-class\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ToastContainer autoClose={3000}></ToastContainer>\r\n        </div>\r\n    \r\n        );\r\n    }\r\n\r\n}\r\nexport default AdminPane;"]},"metadata":{},"sourceType":"module"}