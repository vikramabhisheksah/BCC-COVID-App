{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/vikramsah/Documents/BCC Data Entry Portal/UI/src/App.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport RequestForm from \"./Components/reqForm2\";\nimport Dashbord from \"./Components/dashbord\";\nimport Navbar from \"./Components/navbar\";\nimport Uploader from \"./Components/fileUpload\";\nimport Admin from \"./Components/createAdmin\";\nimport configData from \"./Components/config.json\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userRole: 1,\n      email: this.props.email,\n      username: this.props.username,\n      isReady: false\n    };\n  }\n\n  pullUserRole() {\n    axios.post(configData.SERVER_URL + \"/api/getUserRole\", {\n      email: this.state.email\n    }).then(res => {\n      console.log(res);\n      this.setState({\n        userRole: res.data[0].user_role\n      }); //this.props.setRole(res.data[0].user_role);\n    }).catch(err => {\n      console.log(\"User doesnot exist in the Role table. User role : Requestor\");\n    });\n  }\n\n  componentDidMount() {\n    //this.pullUserRole();\n    axios.post(configData.SERVER_URL + \"/api/getUserRole\", {\n      email: this.state.email\n    }).then(res => {\n      console.log(res);\n      this.setState({\n        userRole: res.data[0].user_role\n      });\n      this.setState({\n        isReady: true\n      });\n    }).catch(err => {\n      console.log(\"User doesnot exist in the Role table. User role : Requestor\");\n      this.setState({\n        isReady: true\n      });\n    });\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"page-wrap\",\n          children: /*#__PURE__*/_jsxDEV(Router, {\n            children: [/*#__PURE__*/_jsxDEV(Navbar, {\n              name: this.state.username,\n              userRole: this.state.userRole\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              render: props => /*#__PURE__*/_jsxDEV(RequestForm, { ...props,\n                email: this.state.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 63\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/dashboard\",\n              render: props => /*#__PURE__*/_jsxDEV(Dashbord, { ...props,\n                email: this.state.email,\n                userRole: this.state.userRole\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 35\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/upload\",\n              render: props => /*#__PURE__*/_jsxDEV(Uploader, { ...props,\n                email: this.state.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/userMgmt\",\n              render: props => this.state.userRole === 2 || this.state.userRole === 3 ? /*#__PURE__*/_jsxDEV(Admin, { ...props\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 79\n              }, this) : /*#__PURE__*/_jsxDEV(RequestForm, { ...props,\n                email: this.state.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 102\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/vikramsah/Documents/BCC Data Entry Portal/UI/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","RequestForm","Dashbord","Navbar","Uploader","Admin","configData","axios","App","constructor","props","state","userRole","email","username","isReady","pullUserRole","post","SERVER_URL","then","res","console","log","setState","data","user_role","catch","err","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route  } from \"react-router-dom\";\nimport \"./App.css\";\nimport RequestForm from \"./Components/reqForm2\";\nimport Dashbord from \"./Components/dashbord\";\nimport Navbar from \"./Components/navbar\";\nimport Uploader from \"./Components/fileUpload\";\nimport Admin from \"./Components/createAdmin\";\nimport configData from \"./Components/config.json\";\nimport axios from \"axios\";\n\n\nclass App extends Component {\nconstructor(props){\n  super(props);\n    this.state = {\n      userRole:1,\n      email:this.props.email,\n      username:this.props.username,\n      isReady:false,\n    };\n}\n\npullUserRole(){\n  axios\n    .post(configData.SERVER_URL +\"/api/getUserRole\", {email:this.state.email})\n    .then((res) => {\n        console.log(res);\n        this.setState({\n            userRole:res.data[0].user_role\n        });\n        //this.props.setRole(res.data[0].user_role);\n    })\n    .catch((err) => {\n    console.log(\"User doesnot exist in the Role table. User role : Requestor\");\n  }); \n}\n\ncomponentDidMount() {\n    //this.pullUserRole();\n    axios\n    .post(configData.SERVER_URL +\"/api/getUserRole\", {email:this.state.email})\n    .then((res) => {\n        console.log(res);\n        this.setState({\n            userRole:res.data[0].user_role\n        });\n        this.setState({isReady: true});\n    })\n    .catch((err) => {\n    console.log(\"User doesnot exist in the Role table. User role : Requestor\");\n    this.setState({isReady: true})\n    });\n}\n\n\n  render() {\n    \n    if (this.state.isReady){\n      return (\n              <div className=\"App\">\n\n                <div id=\"page-wrap\">\n                  <Router>\n                    <Navbar name= {this.state.username} userRole={this.state.userRole}/>\n                    <Route exact path=\"/\" render={(props) => (<RequestForm {...props} email={this.state.email} />)}/>\n                    <Route exact path=\"/dashboard\" render={\n                      (props) => (<Dashbord {...props} email={this.state.email} userRole={this.state.userRole}/>)}/>\n                    <Route exact path=\"/upload\" render={(props) => (<Uploader {...props} email={this.state.email} />)}/>\n                    <Route exact path=\"/userMgmt\" render={(props) => \n                      (this.state.userRole===2 || this.state.userRole===3) ? (<Admin {...props} />):(<RequestForm {...props} email={this.state.email} />)}/>\n                  </Router>\n                </div>\n              </div>\n            );\n      }else{\n        return (<p>Loading...</p>);\n      }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}